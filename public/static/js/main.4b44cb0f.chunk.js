(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,a){e.exports=a.p+"static/media/SignUp2.5d84409d.jpg"},168:function(e,t,a){e.exports=a(220)},191:function(e,t,a){e.exports=a.p+"static/media/trail-explorer-logo-text.b954317c.png"},192:function(e,t,a){e.exports=a.p+"static/media/trail-explorer-logo-main.3d49cc06.png"},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(17),c=a.n(l),i=a(27),o=a(53),u=a(25),s={trail:[]},p={allUsers:[]};var m={loggedIn:!!localStorage.token,user:{}},d=Object(o.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return Object(u.a)({},e,{user:t.user,loggedIn:!0});case"NEW_TRIP":console.log(t.trip);var a=e.user.trips.slice();return a.push(t.trip),Object(u.a)({},e,{user:Object(u.a)({},e.user,{trips:a})});case"NEW_FUTURE_TRIP":console.log(t.future_trip);var r=e.user.future_trips.slice();return r.push(t.future_trip),Object(u.a)({},e,{user:Object(u.a)({},e.user,{future_trips:r})});case"LOG_OUT":return localStorage.removeItem("token"),Object(u.a)({},e,{user:{},loggedIn:!1});default:return e}},trailReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TRAILS":return Object(u.a)({},e,{trail:t.data});default:return e}},allUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_USERS":return Object(u.a)({},e,{allUsers:t.allUsers});default:return e}}}),h=Object(o.c)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),E=a(8),f=a(9),b=a(10),g=a(12),v=a(11),j=a(13),O=a(51),y=a(62),w=a(4),k=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(g.a)(this,Object(v.a)(t).call(this,e))).imageText=a(191),r.imageLogo=a(192),r.toggleDropdown=r.toggleDropdown.bind(Object(y.a)(r)),r.toggleNavbar=r.toggleNavbar.bind(Object(y.a)(r)),r.state={dropdownOpen:!1,collapseOpen:!1},r}return Object(j.a)(t,e),Object(b.a)(t,[{key:"toggleDropdown",value:function(){this.setState(Object(u.a)({},this.state,{dropdownOpen:!this.state.dropdownOpen}))}},{key:"toggleNavbar",value:function(){this.setState(Object(u.a)({},this.state,{collapseOpen:!this.state.collapseOpen}))}},{key:"render",value:function(){var e=this;return n.a.createElement(w.p,{type:"light",theme:"light",expand:"md"},n.a.createElement("img",{src:this.imageText,className:"text-logo",alt:"logo"}),n.a.createElement(w.q,null,n.a.createElement("img",{src:this.imageLogo,className:"image-logo",alt:"trail-logo"})),n.a.createElement(w.r,{onClick:this.toggleNavbar}),n.a.createElement(w.a,{open:this.state.collapseOpen,navbar:!0},n.a.createElement(w.m,{navbar:!0},n.a.createElement(w.n,null,n.a.createElement(w.o,{active:!0,href:"/trails"},"Trails")),this.props.loggedIn&&n.a.createElement(r.Fragment,null,n.a.createElement(w.n,null,n.a.createElement(w.o,{active:!0,href:"/follower-feed"},"Follower Feed")),n.a.createElement(w.n,null,n.a.createElement(w.o,{active:!0,href:"/all-users"},"All Users")),n.a.createElement(w.b,{open:this.state.dropdownOpen,toggle:this.toggleDropdown},n.a.createElement(w.e,{nav:!0,caret:!0},"Profile"),n.a.createElement(w.d,null,n.a.createElement(w.c,{href:"/profile"},"My Profile"),n.a.createElement(w.c,{href:"/edit-profile"},"Edit"))),n.a.createElement(w.n,null,n.a.createElement(w.o,{active:!0,onClick:function(){return e.props.dispatch({type:"LOG_OUT"})}},"Log Out"))),!this.props.loggedIn&&n.a.createElement(w.n,null,n.a.createElement(w.o,{active:!0,href:"/login"},"Login"))),n.a.createElement(w.m,{navbar:!0,className:"ml-auto"},n.a.createElement(w.j,{size:"sm",seamless:!0},n.a.createElement(w.k,{type:"prepend"},n.a.createElement(w.l,null))))))}}]),t}(n.a.Component),T=Object(E.b)(function(e){return{loggedIn:e.userReducer.loggedIn}})(k),S=a(229),_=a(225),C=a(56),x=a(57),R=a(81),N=a.n(R);function I(){var e=Object(C.a)(["\nbackground-image: url(",");\nmin-height: 100vh;\nbackground-size: cover;\nbackground-position: center;\nz-index: -1;\noverflow: hidden;\n"]);return I=function(){return e},e}var A=x.a.div(I(),N.a),F=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:null},a.handleLogin=function(e){e.preventDefault(),e.target.email.value&&e.target.password.value&&fetch("https://trail-explorer-backend.herokuapp.com/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{email:e.target.email.value.toLowerCase(),password:e.target.password.value}})}).then(function(e){return e.json()}).then(function(e){e.jwt&&(localStorage.setItem("token",e.jwt),a.props.dispatch({type:"GET_USER",user:e.user}),a.setState({redirect:n.a.createElement(O.a,{to:"/"})}))})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(A,null,this.state.redirect,n.a.createElement(S.a.Dialog,null,n.a.createElement(S.a.Header,null,n.a.createElement(S.a.Title,null,"Edit Profile")),n.a.createElement(S.a.Body,null,n.a.createElement(w.f,{onSubmit:function(t){return e.handleLogin(t)}},n.a.createElement("h3",null,"Login Form"),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#email"},"Email"),n.a.createElement(w.h,{type:"email",name:"email",id:"#email",placeholder:"Email"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#password"},"Password"),n.a.createElement(w.h,{name:"password",type:"password",id:"#password",placeholder:"Password"})),n.a.createElement(_.a,{type:"submit"},"Login"),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement(i.b,{to:"/signup"},n.a.createElement(_.a,null," Create Your Account Today! ")))))}}]),t}(n.a.Component),U=Object(E.b)()(F),L=a(83),P=a(232),D=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(P.a,{id:"future-trip-card",className:"m-3"},n.a.createElement(P.a.Body,null,n.a.createElement(P.a.Title,null,this.props.futureTrip.title),n.a.createElement("br",null),n.a.createElement(P.a.Subtitle,{className:"mb-2 text-muted"},"Location: ",this.props.futureTrip.location,n.a.createElement("br",null)),n.a.createElement(P.a.Text,null,"Notes: ",this.props.futureTrip.note,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("ul",{id:"trail-list"},this.props.futureTrip.trail_names.map(function(e){return n.a.createElement("li",null,e)}))))))}}]),t}(r.Component),B=Object(E.b)(function(e){return{user:e.userReducer.user}})(D),z=a(226),M=a(227),H=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(z.a,{className:"d-flex justify-content-center m-3"},this.props.user.future_trips.map(function(e){return n.a.createElement(M.a,{md:3}," ",n.a.createElement(B,{key:e.id,futureTrip:e})," ")})))}}]),t}(r.Component),G=Object(E.b)(function(e){return{user:e.userReducer.user}})(H),J=a(231),W=a(228),Y=a(165),X=a(122),q=a.n(X),V=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={showModal:!1},a.renderTripModal=function(){return q.a.setAppElement("#root"),n.a.createElement(q.a,{id:"trip-show-modal",isOpen:a.state.showModal},n.a.createElement("h3",null," ",a.props.trip.title," "),n.a.createElement(W.a,{id:"trip-modal-image",src:a.props.trip.image}),n.a.createElement("h5",null,a.props.trip.location),n.a.createElement("p",null,a.props.trip.description),n.a.createElement("ul",null,a.props.trip.trail_names.map(function(e){return n.a.createElement("li",null,e)})),n.a.createElement("p",null," ",a.props.trip.stars," ",n.a.createElement(Y.a,null)," "),n.a.createElement(_.a,{onClick:function(){return a.setState({showModal:!1})},variant:"secondary"},"Close"))},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.renderTripModal(),n.a.createElement(P.a,{id:"trip-card"},n.a.createElement(P.a.Img,{variant:"top",id:"trip-card-image",src:this.props.trip.image}),n.a.createElement(P.a.Body,null,n.a.createElement(P.a.Text,null,this.props.trip.title),n.a.createElement(_.a,{onClick:function(){return e.setState({showModal:!0})},variant:"primary"},"Trip Details"))))}}]),t}(r.Component),$=Object(E.b)(function(e){return{user:e.userReducer.user}})(V),K=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){if(console.log(this.props.user),!this.props.user)return null;for(var e=this.props.user.trips.length>3?3:this.props.user.trips.length,t=[],a=0;a<e;a++)t.push(n.a.createElement(J.a.Item,{id:"carousel-item",align:"center"},n.a.createElement($,{trip:this.props.user.trips[a]})));return console.log(t),n.a.createElement("div",null,n.a.createElement("h2",null,"Recent Trips"),n.a.createElement(J.a,{id:"carousel"},t))}}]),t}(r.Component),Q=Object(E.b)(function(e){return{user:e.userReducer.user}})(K),Z=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"user-profile"},n.a.createElement("br",null),n.a.createElement("h2",null,"Hey ",this.props.user.name,"!"),n.a.createElement("br",null),n.a.createElement(i.b,{to:"/trip-form"},n.a.createElement(_.a,{variant:"primary"},"Log Your Trip!"),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement(i.b,{to:"/future-trip-form"},n.a.createElement(_.a,{variant:"primary"},"Create a Future Trip!"))),n.a.createElement("br",null),n.a.createElement("div",{align:"center",id:"featured-trail-map"},n.a.createElement("h2",null,"Featured Trail of the Week"),n.a.createElement("br",null),n.a.createElement(L.a,{title:"trail-detail-map",className:"trail-detail-map",frameborder:"0",scrolling:"no",src:"https://www.hikingproject.com/widget?v=3&map=1&type=trail&id=0&x=-9401700&y=4014132&z=8"})),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(Q,null)),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement("h2",null,"Future Trips"),n.a.createElement(G,null),n.a.createElement("br",null)))}}]),t}(r.Component),ee=Object(E.b)(function(e){return{user:e.userReducer.user}})(Z);function te(){var e=Object(C.a)(["\nbackground-image: url(",");\nmin-height: 100vh;\nbackground-size: cover;\nbackground-position: center;\nz-index: -1;\noverflow: hidden;\n"]);return te=function(){return e},e}var ae=x.a.div(te(),N.a),re=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:null},a.handleEditProfile=function(e){e.preventDefault(),e.target.email.value&&e.target.currentPassword.value&&e.target.password.value===e.target.confirmPassword.value&&fetch("https://trail-explorer-backend.herokuapp.com/users/".concat(a.props.user.id),{method:"PATCH",headers:{Authorization:localStorage.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{password:e.target.password.value}})}).then(function(e){return e.json()}).then(function(e){e.user&&(a.props.dispatch({type:"GET_USER",user:e.user}),a.setState({redirect:n.a.createElement(O.a,{to:"/profile"})}))})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.redirect,n.a.createElement(ae,null,n.a.createElement(S.a.Dialog,null,n.a.createElement(S.a.Header,null,n.a.createElement(S.a.Title,null,"Edit Profile")),n.a.createElement(S.a.Body,null,n.a.createElement(w.f,{onSubmit:this.handleEditProfile},n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#email"},"Email"),n.a.createElement(w.h,{type:"email",name:"email",id:"#email",placeholder:"Email"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#current-password"},"Current Password"),n.a.createElement(w.h,{name:"currentPassword",type:"password",id:"#current-password",placeholder:"Current Password"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#password"},"New Password"),n.a.createElement(w.h,{name:"password",type:"password",id:"#password",placeholder:"New Password"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#confirm-password"},"Confirm Password"),n.a.createElement(w.h,{name:"confirmPassword",type:"password",id:"#confirm-password",placeholder:"Confirm Password"})),n.a.createElement(_.a,{type:"submit",variant:"primary"},"Save Changes"),n.a.createElement(i.b,{to:"/trails"},n.a.createElement(_.a,{variant:"secondary"},"Cancel")))))))}}]),t}(r.Component),ne=Object(E.b)(function(e){return{user:e.userReducer.user}})(re),le=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return console.log(this.props.user.followed_users),n.a.createElement(r.Fragment,null,n.a.createElement("br",null),n.a.createElement("h2",null,"Your Followers Recent Trips!"),n.a.createElement("br",null),n.a.createElement("div",{className:"tripcard-div"},n.a.createElement(z.a,{id:"follower-row"},this.props.user.followed_users.map(function(e){return e.trips.map(function(e){return n.a.createElement(M.a,{md:3},n.a.createElement($,{key:e.id,trip:e})," ")})}))),n.a.createElement("br",null),n.a.createElement("h2",null,"Your Followers Future Trips!"),n.a.createElement("br",null),n.a.createElement("div",{className:"futuretripcard-div"},n.a.createElement(z.a,null,this.props.user.followed_users.map(function(e){return e.future_trips.map(function(e){return n.a.createElement(M.a,{md:3},n.a.createElement(B,{key:e.id,futureTrip:e})," ")})}))),n.a.createElement("br",null))}}]),t}(r.Component),ce=Object(E.b)(function(e){return{user:e.userReducer.user}})(le),ie=a(163),oe=a.n(ie);function ue(){var e=Object(C.a)(["\nbackground-image: url(",");\nmin-height: 100vh;\nbackground-size: cover;\nbackground-position: center;\nz-index: -1;\noverflow: hidden;\n"]);return ue=function(){return e},e}var se=x.a.div(ue(),oe.a),pe=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).handleSignUp=function(e){e.preventDefault(),e.target.name.value&&e.target.email.value&&e.target.password.value&&fetch("https://trail-explorer-backend.herokuapp.com/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{name:e.target.name.value,email:e.target.email.value.toLowerCase(),password:e.target.password.value}})}).then(function(e){return e.json()}).then(function(e){e.jwt&&(localStorage.setItem("token",e.jwt),a.props.dispatch({type:"GET_USER",user:e.user}))})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(se,null,n.a.createElement(S.a.Dialog,null,n.a.createElement(S.a.Header,null,n.a.createElement("h3",null,"Sign Up Form")),n.a.createElement(S.a.Body,null,n.a.createElement(w.f,{onSubmit:function(t){return e.handleSignUp(t)}},n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#name"},"Name"),n.a.createElement(w.h,{type:"name",name:"name",id:"#name",placeholder:"Name"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#email"},"Email"),n.a.createElement(w.h,{type:"email",name:"email",id:"#email",placeholder:"Email"})),n.a.createElement(w.g,null,n.a.createElement("label",{htmlFor:"#password"},"Password"),n.a.createElement(w.h,{name:"password",type:"password",id:"#password",placeholder:"Password"}),n.a.createElement("br",null),n.a.createElement(_.a,{type:"submit"}," Submit "),n.a.createElement("br",null))))))}}]),t}(r.Component),me=Object(E.b)()(pe),de=a(230),he=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).fetchTrails=function(e,t){var r=e.replace(".","!"),n=t.replace(".","!");fetch("https://trail-explorer-backend.herokuapp.com/trails&lat=".concat(r,"&lon=").concat(n,"&maxResults=").concat(40)).then(function(e){return e.json()}).then(function(e){return a.props.dispatch({type:"FETCH_TRAILS",data:e})})},a.difficultyImg=function(e){switch(e.difficulty){case"green":return"https://cdn.apstatic.com/img/diff/green.svg";case"greenBlue":return"https://cdn.apstatic.com/img/diff/greenBlue.svg";case"blue":return"https://cdn.apstatic.com/img/diff/blue.svg";case"blueBlack":return"https://cdn.apstatic.com/img/diff/blueBlack.svg";case"black":return"https://cdn.apstatic.com/img/diff/black.svg";default:return""}},a.renderTrails=function(){if(console.log("TRAILS",a.props.trailReducer),a.props){var e=a.props.trailReducer.map(function(e){return n.a.createElement(P.a,{id:"trail-card",key:e.id},n.a.createElement(P.a.Img,{id:"trail-card-image",alt:"trail-img",className:"card-img",src:e.imgSmallMed?e.imgSmallMed:"https://pdxfamilyadventures.com/wp-content/uploads/2012/11/DSC03794.jpg"}),n.a.createElement("br",null),n.a.createElement(P.a.Title,{id:"trail-name"},e.name),n.a.createElement(P.a.Body,null,n.a.createElement(P.a.Text,null,e.location," "),n.a.createElement(P.a.Text,{id:"trail-summary"},e.summary," "),n.a.createElement(de.a,{variant:"flush"},n.a.createElement(de.a.Item,null,"Stars: ",e.stars),n.a.createElement(de.a.Item,null,"Length: ",e.length," miles"),n.a.createElement(de.a.Item,null,"High: ",e.high," ft, Low: ",e.low," ft"),n.a.createElement(de.a.Item,{id:"trail-difficulty"},"Difficulty: ",n.a.createElement(W.a,{style:{borderRadius:"4px"},src:a.difficultyImg(e)})),n.a.createElement(de.a.Item,null," ",n.a.createElement("a",{href:e.url,rel:"noopener noreferrer",target:"_blank"},"Trail Details ")))))});return n.a.createElement("div",{className:"row"},e)}},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchTrails("33.7490","-84.3880")}},{key:"render",value:function(){return n.a.createElement("div",null,this.renderTrails())}}]),t}(r.Component),Ee=Object(E.b)(function(e){return{trailReducer:e.trailReducer.trail}})(he),fe=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("h2",null," FIND A TRAIL NEAR YOU! "),n.a.createElement("br",null),n.a.createElement(L.a,{title:"trails-map",className:"trails-map",frameborder:"0",scrolling:"yes",src:"https://www.hikingproject.com/widget/map?favs=1&location=ip&x=-9402411&y=4020493&z=11.5&h=500"}),n.a.createElement("div",null,n.a.createElement(Ee,null),n.a.createElement("br",null)))}}]),t}(r.Component),be=Object(E.b)(function(e){return{trail:e.trailReducer.trail}})(fe),ge=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:null,trail_names:[]},a.fetchTrails=function(e,t){var r=e.replace(".","!"),n=t.replace(".","!");fetch("https://trail-explorer-backend.herokuapp.com/trails&lat=".concat(r,"&lon=").concat(n,"&maxResults=").concat(25)).then(function(e){return e.json()}).then(function(e){return a.props.dispatch({type:"FETCH_TRAILS",data:e})})},a.handleCheckboxChange=function(e,t){var r=a.state.trail_names;e.checked?r.push(t):r.splice(r.indexOf(t),1),a.setState({trail_names:r})},a.handleCreateTrip=function(e){e.preventDefault();var t=e.target;fetch("https://trail-explorer-backend.herokuapp.com/trips",{method:"POST",headers:{Authorization:localStorage.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({trip:{title:t.title.value,description:t.description.value,location:t.location.value,stars:t.stars.value,image:t.image.value,trail_names:a.state.trail_names}})}).then(function(e){return e.json()}).then(function(e){e.trip&&(a.props.dispatch({type:"NEW_TRIP",trip:e.trip}),a.setState({redirect:n.a.createElement(O.a,{to:"/profile"})}))})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchTrails("33.7490","-84.3880")}},{key:"render",value:function(){var e=this;return this.props.trail[0]?n.a.createElement("div",null,this.state.redirect,n.a.createElement(S.a.Dialog,null,n.a.createElement(S.a.Header,null,n.a.createElement(S.a.Title,null,"Create a New Trip!")),n.a.createElement(S.a.Body,null,n.a.createElement(w.f,{onSubmit:function(t){return e.handleCreateTrip(t)}},n.a.createElement(w.g,null,n.a.createElement(w.h,{required:!0,name:"title",id:"#title",placeholder:"Title"})),n.a.createElement(w.g,null,n.a.createElement(w.h,{name:"description",id:"#description",placeholder:"Description"})),n.a.createElement(w.g,null,n.a.createElement(w.h,{name:"location",id:"#location",placeholder:"Location"})),n.a.createElement(w.g,null,n.a.createElement(w.h,{name:"image",id:"#image",placeholder:"Image URL"})),n.a.createElement(w.g,{className:"trails-checklist"},this.props.trail.map(function(t){return n.a.createElement(r.Fragment,{key:t.id},n.a.createElement("input",{type:"checkbox",onChange:function(a){return e.handleCheckboxChange(a.target,t.name)}})," ",t.name,n.a.createElement("br",null))})),n.a.createElement(w.i,{defaultValue:"default",name:"stars",id:"#stars"},n.a.createElement("option",{disabled:!0,value:"default"},"Stars"),n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"4"},"4"),n.a.createElement("option",{value:"3"},"3"),n.a.createElement("option",{value:"2"},"2"),n.a.createElement("option",{value:"1"},"1")),n.a.createElement(w.g,null,n.a.createElement(_.a,{className:"m-3",type:"submit"},"Submit Trip")))))):null}}]),t}(r.Component),ve=Object(E.b)(function(e){return{trail:e.trailReducer.trail}})(ge),je=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={redirect:null,trail_names:[]},a.fetchTrails=function(e,t){var r=e.replace(".","!"),n=t.replace(".","!");fetch("https://trail-explorer-backend.herokuapp.com/trails&lat=".concat(r,"&lon=").concat(n,"&maxResults=").concat(25)).then(function(e){return e.json()}).then(function(e){return a.props.dispatch({type:"FETCH_TRAILS",data:e})})},a.handleCheckboxChange=function(e,t){var r=a.state.trail_names;e.checked?r.push(t):r.splice(r.indexOf(t),1),a.setState({trail_ids:r})},a.handleCreateFutureTrip=function(e){e.preventDefault();var t=e.target;fetch("https://trail-explorer-backend.herokuapp.com/future_trips",{method:"POST",headers:{Authorization:localStorage.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({future_trip:{title:t.title.value,note:t.note.value,location:t.location.value,trail_names:a.state.trail_names}})}).then(function(e){return e.json()}).then(function(e){e.future_trip&&(a.props.dispatch({type:"NEW_FUTURE_TRIP",future_trip:e.future_trip}),a.setState({redirect:n.a.createElement(O.a,{to:"/profile"})}))})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchTrails("33.7490","-84.3880")}},{key:"render",value:function(){var e=this;return this.props.trail[0]?n.a.createElement("div",null,this.state.redirect,n.a.createElement(S.a.Dialog,null,n.a.createElement(S.a.Header,null,n.a.createElement(S.a.Title,null,"Create a New Future Trip!")),n.a.createElement(S.a.Body,null,n.a.createElement(w.f,{onSubmit:function(t){return e.handleCreateFutureTrip(t)}},n.a.createElement(w.g,null,n.a.createElement(w.h,{required:!0,name:"title",id:"#title",placeholder:"Title"})),n.a.createElement(w.g,null,n.a.createElement(w.h,{name:"note",id:"#note",placeholder:"Note"})),n.a.createElement(w.g,null,n.a.createElement(w.h,{name:"location",id:"#location",placeholder:"Location"})),n.a.createElement(w.g,{className:"trails-checklist"},this.props.trail.map(function(t){return n.a.createElement(r.Fragment,{key:t.id},n.a.createElement("input",{type:"checkbox",onChange:function(a){return e.handleCheckboxChange(a.target,t.name)}})," ",t.name,n.a.createElement("br",null))})),n.a.createElement(w.g,null,n.a.createElement(_.a,{type:"submit"},"Submit Future Trip")))))):null}}]),t}(r.Component),Oe=Object(E.b)(function(e){return{trail:e.trailReducer.trail}})(je),ye=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).follow=function(e){var t={followed_user_id:e.id,user_id:a.props.user.user.id};console.log(t),fetch("https://trail-explorer-backend.herokuapp.com/follows",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify({follow:t})}).then(function(e){return e.json()}).then(function(e){e.user&&a.props.dispatch({type:"GET_USER",user:e.user})})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),n.a.createElement("div",null,this.props.allUsers&&n.a.createElement(z.a,{className:"d-flex justify-content-center m-3"},this.props.allUsers.allUsers.map(function(t){if(t.id!==e.props.user.user.id)return n.a.createElement(M.a,{md:3},n.a.createElement(P.a,{id:"user-card",key:t.id},n.a.createElement(P.a.Body,null,n.a.createElement(P.a.Text,null,t.name,n.a.createElement("br",null),t.email),e.props.user.user.followed_users.find(function(e){return e.id===t.id})?n.a.createElement(_.a,{disabled:!0}," Followed "):n.a.createElement(_.a,{onClick:function(){return e.follow(t)},variant:"primary"},"Follow!"))),n.a.createElement("br",null))})))}}]),t}(r.Component),we=Object(E.b)(function(e){return{user:e.userReducer,allUsers:e.allUsersReducer}})(ye),ke=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){fetch("https://trail-explorer-backend.herokuapp.com/users",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.props.dispatch({type:"ALL_USERS",allUsers:e})})},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(we,null))}}]),t}(r.Component),Te=Object(E.b)()(ke),Se=(a(216),a(217),a(218),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.token&&fetch("https://trail-explorer-backend.herokuapp.com/profile",{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){t.user&&e.props.dispatch({type:"GET_USER",user:t.user})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement(T,null),localStorage.token&&!this.props.user.id?null:n.a.createElement(O.d,null,n.a.createElement(O.b,{exact:!0,path:"/trails",component:be}),n.a.createElement(O.b,{exact:!0,path:"/all-users",component:Te}),n.a.createElement(O.b,{exact:!0,path:"/follower-feed",component:ce}),n.a.createElement(O.b,{path:"/login",render:function(){return e.props.loggedIn?n.a.createElement(O.a,{to:"/profile"}):n.a.createElement(U,null)}}),n.a.createElement(O.b,{path:"/profile",render:function(){return e.props.loggedIn?n.a.createElement(ee,null):n.a.createElement(O.a,{to:"/login"})}}),n.a.createElement(O.b,{exact:!0,path:"/signup",component:me}),n.a.createElement(O.b,{exact:!0,path:"/edit-profile",component:ne}),n.a.createElement(O.b,{exact:!0,path:"/trip-form",component:ve}),n.a.createElement(O.b,{exact:!0,path:"/future-trip-form",component:Oe}),n.a.createElement(O.b,{path:"/",render:function(){return n.a.createElement(O.a,{to:"/trails"})}})))}}]),t}(n.a.Component)),_e=Object(E.b)(function(e){return{user:e.userReducer.user,loggedIn:e.userReducer.loggedIn}})(Se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(219);c.a.render(n.a.createElement(E.a,{store:h},n.a.createElement(i.a,null,n.a.createElement(_e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},81:function(e,t,a){e.exports=a.p+"static/media/Trail-Login.7d7d1734.jpg"}},[[168,1,2]]]);
//# sourceMappingURL=main.4b44cb0f.chunk.js.map